<Window x:Class="Lottery.View.User.UserRegisterView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Lottery.View.User"
        xmlns:language="clr-namespace:Lottery.Properties.Langs"
        xmlns:converters="clr-namespace:Lottery.Converters"
        mc:Ignorable="d"
        Title="UserRegisterView"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        AllowsTransparency="True"
        WindowStyle="None"
        Background="Transparent">

    <Grid>
        <Grid.Background>
            <ImageBrush ImageSource="/Images/background.jpg" Stretch="UniformToFill"/>
        </Grid.Background>

        <Button Content="X"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="0,10,10,0"
                Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}"
                Foreground="White"
                FontWeight="Bold"
                FontSize="14"
                Click="CloseButton_Click"/>

        <Border BorderBrush="#55FFFFFF"
                BorderThickness="1"
                Background="#AA000000"
                CornerRadius="12"
                Padding="30"
                Width="300"
                VerticalAlignment="Center"
                HorizontalAlignment="Center">

            <Border.Effect>
                <DropShadowEffect ShadowDepth="1" Color="Black" Opacity="0.1" BlurRadius="10"/>
            </Border.Effect>

            <Grid>
                <StackPanel x:Name="RegistrationFormPanel"
                            Visibility="{Binding IsFormVisible, Converter={StaticResource BoolToVisibilityConverter}}"
                            Panel.ZIndex="0">

                    <TextBlock Text="{x:Static language:Lang.UserSignUpLabelTitle}"
                               Style="{StaticResource TitleTextStyle}"
                               Foreground="White"/>
                    <TextBlock Text="{x:Static language:Lang.UserSignUpLabelDetails}"
                               Style="{StaticResource SubtitleTextStyle}"
                               Foreground="#DDDDDD"
                               Margin="0,0,0,15"/>

                    <Label Content="{x:Static language:Lang.GlobalLabelName}"
                           Style="{StaticResource LabelStyle}"
                           Foreground="White"/>
                    <Grid Margin="0,0,0,10">
                        <TextBox x:Name="NameTextBox"
                                 Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBlock Text="&#xE77B;" Style="{StaticResource IconStyle}"/>
                    </Grid>

                    <Label Content="{x:Static language:Lang.GlobalLabelPaternalLastName}"
                           Style="{StaticResource LabelStyle}"
                           Foreground="White"/>
                    <Grid Margin="0,0,0,10">
                        <TextBox x:Name="PaternalLastNameTextBox"
                                 Text="{Binding PaternalLastName, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBlock Text="&#xE77B;" Style="{StaticResource IconStyle}"/>
                    </Grid>

                    <Label Content="{x:Static language:Lang.GlobalLabelMaternalLastName}"
                           Style="{StaticResource LabelStyle}"
                           Foreground="White"/>
                    <Grid Margin="0,0,0,10">
                        <TextBox x:Name="MaternalLastNameTextBox"
                                 Text="{Binding MaternalLastName, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBlock Text="&#xE77B;" Style="{StaticResource IconStyle}"/>
                    </Grid>

                    <Label Content="{x:Static language:Lang.GlobalLabelNickname}"
                           Style="{StaticResource LabelStyle}"
                           Foreground="White"/>
                    <Grid Margin="0,0,0,10">
                        <TextBox x:Name="NicknameTextBox"
                                 Text="{Binding Nickname, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBlock Text="&#xE77B;" Style="{StaticResource IconStyle}"/>
                    </Grid>

                    <Label Content="{x:Static language:Lang.GlobalLabelEmail}"
                           Style="{StaticResource LabelStyle}"
                           Foreground="White"/>
                    <Grid Margin="0,0,0,10">
                        <TextBox x:Name="EmailTextBox"
                                 Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBlock Text="&#xE715;" Style="{StaticResource IconStyle}"/>
                    </Grid>

                    <Label Content="{x:Static language:Lang.GlobalLabelPassword}"
                           Style="{StaticResource LabelStyle}"
                           Foreground="White"/>
                    <Grid Margin="0,0,0,10">
                        <PasswordBox x:Name="PasswordBox"
                                     PasswordChanged="PasswordBox_PasswordChanged"
                                     Visibility="{Binding IsPasswordVisible, Converter={StaticResource InverseBoolToVisibilityConverter}}"/>
                        <TextBox x:Name="PasswordTextBox"
                                 Text="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                 Visibility="{Binding IsPasswordVisible, Converter={StaticResource BoolToVisibilityConverter}}"/>
                        <ToggleButton x:Name="TogglePasswordVisibilityButton"
                                      IsChecked="{Binding IsPasswordVisible, Mode=TwoWay}"
                                      Width="35" Height="35"
                                      HorizontalAlignment="Right" VerticalAlignment="Center"
                                      Margin="0,0,5,0"
                                      Background="Transparent" BorderThickness="0">
                            <ToggleButton.Content>
                                <Image Source="{Binding IsChecked, 
                                       RelativeSource={RelativeSource AncestorType=ToggleButton}, 
                                       Converter={StaticResource EyeIconConverter}}"
                                       Width="20" Height="20"
                                       Stretch="Uniform"/>
                            </ToggleButton.Content>
                        </ToggleButton>
                    </Grid>

                    <Label Content="{x:Static language:Lang.GlobalLabelConfirmPassword}"
                           Style="{StaticResource LabelStyle}"
                           Foreground="White"/>
                    <Grid Margin="0,0,0,15">
                        <PasswordBox x:Name="ConfirmPasswordBox"
                                     PasswordChanged="ConfirmPasswordBox_PasswordChanged"
                                     Visibility="{Binding IsConfirmPasswordVisible, Converter={StaticResource InverseBoolToVisibilityConverter}}"/>
                        <TextBox x:Name="ConfirmPasswordTextBox"
                                 Text="{Binding ConfirmPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                 Visibility="{Binding IsConfirmPasswordVisible, Converter={StaticResource BoolToVisibilityConverter}}"/>
                        <ToggleButton x:Name="ToggleConfirmPasswordVisibilityButton"
                                      IsChecked="{Binding IsConfirmPasswordVisible, Mode=TwoWay}"
                                      Width="35" Height="35"
                                      HorizontalAlignment="Right" VerticalAlignment="Center"
                                      Margin="0,0,5,0"
                                      Background="Transparent" BorderThickness="0">
                            <ToggleButton.Content>
                                <Image Source="{Binding IsChecked, 
                                       RelativeSource={RelativeSource AncestorType=ToggleButton}, 
                                       Converter={StaticResource EyeIconConverter}}"
                                       Width="20" Height="20"
                                       Stretch="Uniform"/>
                            </ToggleButton.Content>
                        </ToggleButton>
                    </Grid>

                    <Button Content="{x:Static language:Lang.GlobalButtonSignUp}"
                            Command="{Binding RegisterCommand}"
                            Margin="0,15,0,0"
                            Padding="12"
                            FontSize="15"
                            FontWeight="Bold"
                            Foreground="White"
                            Background="Black"
                            BorderThickness="0"
                            Cursor="Hand">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                </StackPanel>

                <StackPanel x:Name="VerificationCodePanel"
                            Visibility="{Binding IsVerificationVisible, Converter={StaticResource BoolToVisibilityConverter}}"
                            Panel.ZIndex="1">

                    <TextBlock Text="{x:Static language:Lang.UserSignUpLabelTitle}"
                               Style="{StaticResource TitleTextStyle}"
                               Foreground="White"/>
                    <TextBlock Text="{x:Static language:Lang.GlobalLabelVerificationCode}"
                               Style="{StaticResource SubtitleTextStyle}"
                               Foreground="#DDDDDD"/>

                    <TextBlock x:Name="VerificationEmailTextBlock"
                               Text="{Binding Email}"
                               FontSize="14"
                               Foreground="#BBBBBB"
                               FontWeight="SemiBold"
                               HorizontalAlignment="Center"
                               Margin="0,2,0,25"/>

                    <Label Content="{x:Static language:Lang.GlobalButtonVerificationCode}"
                           FontSize="12"
                           FontWeight="Bold"
                           Margin="0,0,0,5"
                           Foreground="White"/>
                    <Grid Margin="0,0,0,10">
                        <TextBox x:Name="VerificationCodeTextBox"
                                 Text="{Binding VerificationCode, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource CodeInputFieldStyle}"/>
                        <TextBlock Text="&#xE72E;" Style="{StaticResource IconStyle}" Margin="10,0,0,0"/>
                    </Grid>

                    <Button Content="{x:Static language:Lang.GlobalButtonVerifyCode}"
                            Command="{Binding VerifyCommand}"
                            Margin="0,25,0,0"
                            Padding="12"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="White"
                            Background="Black"
                            BorderThickness="0"
                            Cursor="Hand">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="BackButton"
                            Command="{Binding BackCommand}"
                            Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}"
                            Background="Transparent"
                            BorderThickness="0"
                            Margin="0,20,0,0"
                            HorizontalAlignment="Center"
                            Cursor="Hand">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#xE72B;" Style="{StaticResource BackIconStyle}" Foreground="#BBBBBB"/>
                            <TextBlock Text="{x:Static language:Lang.GlobalButtonBack}" Foreground="#BBBBBB" FontSize="13"/>
                        </StackPanel>
                    </Button>

                </StackPanel>

                <StackPanel x:Name="RegistrationCompletedPanel"
                            Visibility="{Binding IsCompletedVisible, Converter={StaticResource BoolToVisibilityConverter}}"
                            Panel.ZIndex="2">

                    <TextBlock Text="{x:Static language:Lang.UserSignUpLabelTitle}"
                               Style="{StaticResource TitleTextStyle}"
                               Foreground="White"/>
                    <TextBlock Text="{x:Static language:Lang.UserSignUpLabelRegistrationComplete}"
                               Style="{StaticResource SubtitleTextStyle}"
                               Foreground="#DDDDDD"/>

                    <Grid Height="60" Width="60" Margin="0,30,0,25">
                        <Border Background="#28a745" CornerRadius="30"/>
                        <TextBlock Text="&#xE73E;"
                                   FontFamily="Segoe MDL2 Assets"
                                   Foreground="White"
                                   FontSize="30"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Grid>

                    <Button x:Name="ContinueButton"
                            Command="{Binding ContinueCommand}"
                            Content="{x:Static language:Lang.GlobalButtonContinue}"
                            Margin="0,25,0,0"
                            Padding="12"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="White"
                            Background="Black"
                            BorderThickness="0"
                            Cursor="Hand">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                </StackPanel>

            </Grid>
        </Border>
    </Grid>
</Window>